/*!
 * pixometric - v0.0.3
 * Compiled Tue, 04 Jul 2017 17:14:50 UTC
 *
 * pixometric is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.pixometric=e()}}(function(){return function e(r,t,n){function o(i,l){if(!t[i]){if(!r[i]){var f="function"==typeof require&&require;if(!l&&f)return f(i,!0);if(a)return a(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var u=t[i]={exports:{}};r[i][0].call(u.exports,function(e){var t=r[i][1][e];return o(t||e)},u,u.exports,e,r,t,n)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=e("../world/world"),a=(function(e){e&&e.__esModule}(o),function e(r,t,o,a){n(this,e),this.world=t,e.stage=r,e.textures=o,e.textureLookup=a});t.default=a},{"../world/world":4}],2:[function(e,r,t){"use strict";function n(e){var r;return(r=[]).length=e,r.fill(0)}function o(e,r){var t;(t=[]).length=e;for(var n=0;n<e;n++)t[n]=r;return t}function a(e,r){var t;(t=[]).length=e;for(var n=0;n<e;n++)t[n]=new r;return t}function i(e,r){var t;(t=[]).length=e;for(var n=0;n<e;n++)(t[n]=[]).length=r,t[n].fill(0);return t}function l(e,r,t){var n;(n=[]).length=e;for(var o=0;o<e;o++){(n[o]=[]).length=r;for(var a=0;a<r;a++)n[o][a]=t}return n}function f(e,r,t){var n;(n=[]).length=e;for(var o=0;o<e;o++){(n[o]=[]).length=r;for(var a=0;a<r;a++)n[o][a]=new t}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.generate=n,t.generateFilled=o,t.generateFilledClasses=a,t.generate2D=i,t.generate2DFilled=l,t.generate2DFilledClasses=f},{}],3:[function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=e("../helpers/array"),a=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),i=function e(r,t){n(this,e),this.voxels=a.generateFilled(4096,1),this.sprites=[],this.x=r,this.y=t};t.default=i},{"../helpers/array":2}],4:[function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=e("./chunk"),i=function(e){return e&&e.__esModule?e:{default:e}}(a),l=e("../helpers/array"),f=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(l),s=function(){function e(){n(this,e),this.aoL=f.generate2DFilledClasses(3,3,i.default),this.rotation=3}return o(e,[{key:"generateSprites",value:function(){for(var e=0;e<this.aoL.length;e++)for(var r=0;r<this.aoL[0].length;r++){switch(this.rotation){case 0:var t=e,n=r;break;case 1:var t=this.aoL.length-r-1,n=e;break;case 2:var t=this.aoL.length-e-1,n=this.aoL[0].length-r-1;break;case 3:var t=r,n=this.aoL[0].length-e-1}for(var o=0;o<this.aoL[t][n].voxels.length;o++){var a=o%16,i=Math.floor(o/16)%16,l=Math.floor(o/256);switch(this.rotation){case 0:var f=l,s=i;break;case 1:var f=16-i-1,s=l;break;case 2:var f=16-l-1,s=16-i-1;break;case 3:var f=i,s=16-l-1}var u=a+16*s+16*f*16,c=this.aoL[t][n].voxels[u];if(0!=c){var h=16*(l-i+16*(e-r)),d=8*(l+i+16*(e+r))-16*a,v=new PIXI.Sprite(Pixometric.textures[Pixometric.textureLookup[c-1]]);this.aoL[e][r].sprites[o]=v,v.x=h,v.y=d,Pixometric.stage.addChild(v)}}}}},{key:"rotate",value:function(e){this.rotation=e;for(var r=0;r<this.aoL.length;r++)for(var t=0;t<this.aoL[0].length;t++)for(var n=0;n<this.aoL[0][0].sprites.length;n++)this.aoL[r][t].sprites[n]&&this.aoL[r][t].sprites[n].destroy();this.generateSprites()}},{key:"occlusionCulling",value:function(){for(var e=0;e<this.aoL.length;e++)for(var r=0;r<this.aoL[0].length;r++)for(var t=0;t<16;t++)for(var n=0;n<16;n++)this.cull(e,r,t,n,15);for(var e=0;e<this.aoL.length;e++)for(var t=0;t<16;t++)for(var o=0;o<15;o++)this.cull(e,this.aoL[0].length-1,t,15,o);for(var r=0;r<this.aoL[0].length;r++)for(var n=0;n<16;n++)for(var o=0;o<15;o++)this.cull(this.aoL.length-1,r,15,n,o)}},{key:"cull",value:function(e,r,t,n,o){for(var a=!1;;){if(o<0)break;if(n<0){if(r-1<0)break;r--,n=15}if(t<0){if(e-1<0)break;e--,t=15}var i=o+16*n+16*t*16;0!=this.aoL[e][r].voxels[i]&&(a?this.aoL[e][r].sprites[i]&&(this.aoL[e][r].sprites[i].visible=!1):a=!0),t--,n--,o--}}}]),e}();t.default=s},{"../helpers/array":2,"./chunk":3}],5:[function(e,r,t){(function(r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n=e("./core/core"),o=t(n),a=e("./world/world"),i=t(a);o.default.World=i.default,r.Pixometric=o.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core/core":1,"./world/world":4}]},{},[5])(5)});
//# sourceMappingURL=pixometric.min.js.map
