/*!
 * pixometric - v0.0.3
 * Compiled Fri, 07 Jul 2017 19:02:53 UTC
 *
 * pixometric is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.pixometric=e()}}(function(){return function e(r,t,i){function o(a,f){if(!t[a]){if(!r[a]){var c="function"==typeof require&&require;if(!f&&c)return c(a,!0);if(n)return n(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=t[a]={exports:{}};r[a][0].call(u.exports,function(e){var t=r[a][1][e];return o(t||e)},u,u.exports,e,r,t,i)}return t[a].exports}for(var n="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={CHUNK:{SIZE:16,HEIGHT:16},SPRITE:{SIZE:32}};t.default=i},{}],2:[function(e,r,t){"use strict";function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=e("../world/world"),n=(function(e){e&&e.__esModule}(o),function e(r,t,o,n){i(this,e),this.world=t,e.stage=r,e.textures=o,e.textureLookup=n});t.default=n},{"../world/world":8}],3:[function(e,r,t){"use strict";function i(e){var r;return(r=[]).length=e,r.fill(0)}function o(e,r){var t;(t=[]).length=e;for(var i=0;i<e;i++)t[i]=r;return t}function n(e,r){var t;(t=[]).length=e;for(var i=0;i<e;i++)t[i]=new r;return t}function a(e,r){var t;(t=[]).length=e;for(var i=0;i<e;i++)(t[i]=[]).length=r,t[i].fill(0);return t}function f(e,r,t){var i;(i=[]).length=e;for(var o=0;o<e;o++){(i[o]=[]).length=r;for(var n=0;n<r;n++)i[o][n]=t}return i}function c(e,r,t){var i;(i=[]).length=e;for(var o=0;o<e;o++){(i[o]=[]).length=r;for(var n=0;n<r;n++)i[o][n]=new t}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.generate=i,t.generateFilled=o,t.generateFilledClasses=n,t.generate2D=a,t.generate2DFilled=f,t.generate2DFilledClasses=c},{}],4:[function(e,r,t){"use strict";function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=e("../helpers/array"),n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(o),a=function e(r,t){i(this,e),this.voxels=n.generateFilled(Pixometric.config.CHUNK.SIZE*Pixometric.config.CHUNK.SIZE*Pixometric.config.CHUNK.HEIGHT,1),this.sprites=[],this.x=r,this.y=t};t.default=a},{"../helpers/array":3}],5:[function(e,r,t){"use strict";function i(e,r){for(var t=0;t<e.length;t++)for(var i=0;i<e[0].length;i++){switch(r){case 0:var o=t,n=i;break;case 1:var o=e.length-i-1,n=t;break;case 2:var o=e.length-t-1,n=e[0].length-i-1;break;case 3:var o=i,n=e[0].length-t-1}for(var a=0;a<e[o][n].voxels.length;a++){var f=a%Pixometric.config.CHUNK.SIZE,c=Math.floor(a/Pixometric.config.CHUNK.SIZE)%Pixometric.config.CHUNK.SIZE,l=Math.floor(a/(Pixometric.config.CHUNK.SIZE*Pixometric.config.CHUNK.SIZE));switch(r){case 0:var u=l,s=c;break;case 1:var u=Pixometric.config.CHUNK.SIZE-c-1,s=l;break;case 2:var u=Pixometric.config.CHUNK.SIZE-l-1,s=Pixometric.config.CHUNK.SIZE-c-1;break;case 3:var u=c,s=Pixometric.config.CHUNK.SIZE-l-1}var d=f+s*Pixometric.config.CHUNK.SIZE+u*Pixometric.config.CHUNK.SIZE*Pixometric.config.CHUNK.SIZE,g=e[o][n].voxels[d];if(0!=g){var v=(l-c+(t-i)*Pixometric.config.CHUNK.SIZE)*(Pixometric.config.SPRITE.SIZE/2),h=(l+c+(t+i)*Pixometric.config.CHUNK.SIZE)*(Pixometric.config.SPRITE.SIZE/4)-f*(Pixometric.config.SPRITE.SIZE/2),p=new PIXI.Sprite(Pixometric.textures[Pixometric.textureLookup[g-1]]);e[t][i].sprites[a]=p,p.x=v,p.y=h,Pixometric.stage.addChild(p)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},{}],6:[function(e,r,t){"use strict";function i(e){for(var r=0;r<e.length;r++)for(var t=0;t<e[0].length;t++)for(var i=0;i<Pixometric.config.CHUNK.SIZE;i++)for(var n=0;n<Pixometric.config.CHUNK.SIZE;n++)o(e,r,t,i,n,Pixometric.config.CHUNK.HEIGHT-1);for(var r=0;r<e.length;r++)for(var i=0;i<Pixometric.config.CHUNK.SIZE;i++)for(var a=0;a<Pixometric.config.CHUNK.HEIGHT-1;a++)o(e,r,e[0].length-1,i,Pixometric.config.CHUNK.SIZE,a);for(var t=0;t<e[0].length;t++)for(var n=0;n<Pixometric.config.CHUNK.SIZE;n++)for(var a=0;a<Pixometric.config.CHUNK.HEIGHT-1;a++)o(e,e.length-1,t,Pixometric.config.CHUNK.SIZE-1,n,a)}function o(e,r,t,i,o,n){for(var a=!1;;){if(n<0)break;if(o<0){if(t-1<0)break;t--,o=Pixometric.config.CHUNK.SIZE-1}if(i<0){if(r-1<0)break;r--,i=Pixometric.config.CHUNK.SIZE-1}var f=n+o*Pixometric.config.CHUNK.SIZE+i*Pixometric.config.CHUNK.SIZE*Pixometric.config.CHUNK.SIZE;0!=e[r][t].voxels[f]&&(a?e[r][t].sprites[f]&&(e[r][t].sprites[f].visible=!1):a=!0),i--,o--,n--}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},{}],7:[function(e,r,t){"use strict";function i(e,r){for(var t=0;t<e.length;t++)for(var i=0;i<e[0].length;i++)for(var o=0;o<e[0][0].sprites.length;o++)e[t][i].sprites[o]&&e[t][i].sprites[o].destroy();(0,n.default)(e,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=e("./generate-sprites"),n=function(e){return e&&e.__esModule?e:{default:e}}(o)},{"./generate-sprites":5}],8:[function(e,r,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),a=e("./chunk"),f=i(a),c=e("./manipulation/occulusion-culling"),l=i(c),u=e("./manipulation/generate-sprites"),s=i(u),d=e("./manipulation/rotate"),g=i(d),v=e("../helpers/array"),h=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}(v),p=function(){function e(){o(this,e),this.aoL=h.generate2DFilledClasses(3,3,f.default),this.rotation=3}return n(e,[{key:"occlusionCulling",value:function(){(0,l.default)(this.aoL)}},{key:"generateSprites",value:function(){(0,s.default)(this.aoL,this.rotation)}},{key:"rotate",value:function(e){this.rotation=e,(0,g.default)(this.aoL,this.rotation)}},{key:"unloadChunk",value:function(e,r){for(var t=0;t<Pixometric.config.CHUNK.SIZE*Pixometric.config.CHUNK.SIZE*Pixometric.config.CHUNK.HEIGHT;t++)this.aoL[e][r].sprites[t]&&this.aoL[e][r].sprites[t].destroy()}}]),e}();t.default=p},{"../helpers/array":3,"./chunk":4,"./manipulation/generate-sprites":5,"./manipulation/occulusion-culling":6,"./manipulation/rotate":7}],9:[function(e,r,t){(function(r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var i=e("./core/core"),o=t(i),n=e("./core/config"),a=t(n),f=e("./world/world"),c=t(f);o.default.config=a.default,o.default.World=c.default,r.Pixometric=o.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core/config":1,"./core/core":2,"./world/world":8}]},{},[9])(9)});
//# sourceMappingURL=pixometric.min.js.map
